#!/usr/bin/env python3

from __future__ import print_function

import sys

from reflectrpc.rpcsh import ReflectRpcShell

def usage():
    print("Usage: rpcsh HOST PORT", file=sys.stderr)
    print("Example: rpcsh localhost 5500", file=sys.stderr)
    sys.exit(2)

if len(sys.argv) != 3:
    print("ERROR: Missing arguments\n", file=sys.stderr)
    usage()

try:
    shell = ReflectRpcShell(sys.argv[1], int(sys.argv[2]))
    shell.cmdloop()
except KeyboardInterrupt:
    sys.exit(0)
